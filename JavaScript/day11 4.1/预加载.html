<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    #progress {
      width: 400px;
      height: 30px;
      border: 1px solid #000;
      border-radius: 5px;
    }

    #con {
      height: 30px;
      width: 0%;
      background-color: blueviolet;
    }
  </style>
</head>

<body>
  <div class="outer">
    <div id="progress">
      <div id="con"></div>
    </div>
    <p id="per">已经加载了0%</p>
  </div>
  <script>
    //以下案例说明，只要创建了一个img标签，并赋值src属性，则直接可以加载img
    /*
     var oImg=new Image();
    oImg.src="./images/images/01.jpg"
    console.log(oImg); 
    */

    var oPro = document.getElementById("progress");
    var oPer = document.getElementById("per");
    var oCon = document.getElementById("con");
    var imgData = ["01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11", "12", "13", "14", "15", "16",
      "17", "18", "19", "20", "21", "22", "23", "24", "25", "26", "27", "28", "29", "30"
    ];
    var count = 0;
    imgData.forEach(function (item, index) {
      //每次进入都创建一个img标签并赋值
      var newImg = new Image();
      //设置src
      newImg.src = "./images/images/" + item + ".jpg";
      //给每一个img绑定一个onload事件，用来监听加载完毕
      newImg.onload = function () {
        //让计数器累加
        count++;
        //计算比例
        var scale = count / imgData.length;
        //计算百分比
        var percent = parseInt(scale * 100);
        //给con设置宽度
        oCon.style.width = percent + "%";
        //给p设置内容
        oPer.textContent = "已经加载了" + percent + "%";
      }
    })
  </script>
</body>

</html>